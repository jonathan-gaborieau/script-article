import http.client
import base64
import json

# URL de la requête
url = 'lagalerieimmobiliere.com' #lagalerieimmobiliere.com #qualithe.fr

# Informations d'authentification
username = 'sabrina.khalfa@yahoo.com' #sabrina.khalfa@yahoo.com #jonathan.gaborieau@outlook.fr
password = 'laoC TL8h xMrZ rVkd bCCt ToYq' #laoC TL8h xMrZ rVkd bCCt ToYq #oPOU nX80 Aua6 dxZE AYlG YAlM


# Préparer les informations d'authentification
credentials = f"{username}:{password}"
encoded_credentials = base64.b64encode(credentials.encode('utf-8')).decode('utf-8')
def new_page(titre,contenu,status,slug, actualite: str):
    # Créer la connexion
    connection = http.client.HTTPSConnection(url)
    # Données à envoyer dans le corps de la requête
    redirection_actualite = ''
    image = "https://lagalerieimmobiliere.com/wp-content/uploads/2023/11/DenisleBro_luxe_flat_in_paris_photography_hyper_realistic_style_20a6596a-d27d-4388-ba9d-60b072ed38f7.png"
    if actualite != '':
        image = "https://lagalerieimmobiliere.com/wp-content/uploads/2023/11/DenisleBro_interior_house_design_paris_photography_realistic_421902c2-96bb-4a98-8306-73c242ad582b.png"
        if actualite == 'estimation':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Estimation</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Dans le cadre de votre projet, La Galerie Immobiliere vous propose d’estimer votre bien dans les meilleurs délais et en toute confidentialité.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/estimation" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Estimer mon bien" /></form></div></div>'
        elif actualite == 'contact':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Contact</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Dans le cadre de votre projet, La Galerie Immobiliere vous propose d’estimer votre bien dans les meilleurs délais et en toute confidentialité.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/contact" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Contactez-nous" /></form></div></div>'
        elif actualite == 'vente':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Vente</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Nous découvrons votre bien et évaluons avec vous ses particularités et ses forces. Nos estimations sont basées sur notre connaissance du marché.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/vente" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Mettre en vente" /></form></div></div>'
        elif actualite == 'achat':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Achat</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Dans le cadre de votre projet, La Galerie Immobiliere vous propose d’estimer votre bien dans les meilleurs délais et en toute confidentialité.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/achat" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Procéder à un achat" /></form></div></div>'
        elif actualite == 'nos biens':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Nos biens</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Plus qu’un projet immobilier, une aventure humaine. Parce que derrière l’achat ou la vente d’un bien il y a une histoire et souvent un projet de vie, nous vous accompagnons avec soin et disponibilité à toutes les étapes de sa réalisation.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/nos-biens" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Voir nos biens" /></form></div></div>'

    data = {
        "title": titre,
        "content": '<div data-elementor-type="wp-page" data-elementor-id="7654" class="elementor elementor-7654"><section style="background-image: url('+ image +'); background-position: center center; background-repeat: no-repeat; background-size: cover; transition: background 0.3s, border 0.3s, border-radius 0.3s, box-shadow 0.3s; padding: 200px 0px 0px 0px;" class="elementor-section elementor-top-section elementor-element elementor-element-b3789dc elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b3789dc" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}"><div class="elementor-background-overlay"></div><div class="elementor-container elementor-column-gap-no" style="max-width: 800px;"><div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3161935" data-id="3161935" data-element_type="column"><div class="elementor-widget-wrap elementor-element-populated" style="position: relative; width: 100%; flex-wrap: wrap; align-content: flex-start;"><section class="elementor-section elementor-inner-section elementor-element elementor-element-6ae34ee elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6ae34ee" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;video&quot;}"><div class="elementor-container elementor-column-gap-no"><div class="elementor-column elementor-col-100 elementor-inner-column elementor-element elementor-element-cdce999" data-id="cdce999" data-element_type="column"><div class="elementor-widget-wrap elementor-element-populated" style="margin: 0% 0% 0% 0%; --e-column-margin-right: 0%; --e-column-margin-left: 0%; padding: 0300px 0px 100px 0px; text-align:center;"><div class="elementor-element elementor-element-a1c3ca2 elementor-widget elementor-widget-heading" data-id="a1c3ca2" data-element_type="widget" data-widget_type="heading.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */ .elementor-heading-title{padding:0;margin:0;line-height:1}.elementor-widget-heading .elementor-heading-title[class*=elementor-size-]>a{color:inherit;font-size:inherit;line-height:inherit}.elementor-widget-heading .elementor-heading-title.elementor-size-small{font-size:15px}.elementor-widget-heading .elementor-heading-title.elementor-size-medium{font-size:19px}.elementor-widget-heading .elementor-heading-title.elementor-size-large{font-size:29px}.elementor-widget-heading .elementor-heading-title.elementor-size-xl{font-size:39px}.elementor-widget-heading .elementor-heading-title.elementor-size-xxl{font-size:59px}</style><h1 style="color: #FFFFFF;" class="elementor-heading-title elementor-size-default">' + titre + '</h1></div></div><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */ .elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div></div></div></div></section></div></div></div></section><section class="elementor-section elementor-top-section elementor-element elementor-element-69836e3 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="69836e3" data-element_type="section"><div style="display: flex; margin-right: auto; margin-left: auto; position: relative; max-width: 800px;" class="elementor-container elementor-column-gap-default"><div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-ce96eee" data-id="ce96eee" data-element_type="column"><div class="elementor-widget-wrap elementor-element-populated"><div class="elementor-element elementor-element-8d76fc4 elementor-widget elementor-widget-text-editor" data-id="8d76fc4" data-element_type="widget" data-widget_type="text-editor.default"><div style="margin: 100px 0px 100px 0px; padding: 0px 40px 0px 40px;" class="elementor-widget-container">'+ redirection_actualite +'<p>' + contenu + '</p></div><form style="width: 100%; text-align: center;" action="/contact" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Contactez-nous" /></form></div></div></div></div></div></div></section></div>',
        "status": status,
        "slug": slug
    }

    # Convertir les données en format JSON
    json_data = json.dumps(data)

    # Préparer les en-têtes de la requête
    headers = {
        'Authorization': f'Basic {encoded_credentials}',
        'Content-Type': 'application/json'
    }

    # Effectuer la requête GET
    connection.request('POST', '/wp-json/wp/v2/pages', json_data, headers)

    response = connection.getresponse()

    if response.status == 201:
        # La requête a réussi
        data = response.read()
        return data
    else:
        # La requête a échoué
        print(f"Erreur - Code de statut : {response.status}")
        print(response.read().decode('utf-8'))

    connection.close()

def update_page(id_page,titre,contenu,actualite : str):
    # Créer la connexion
    connection = http.client.HTTPSConnection(url)
    # Données à envoyer dans le corps de la requête
    redirection_actualite = ''
    image = "https://lagalerieimmobiliere.com/wp-content/uploads/2023/11/DenisleBro_luxe_flat_in_paris_photography_hyper_realistic_style_20a6596a-d27d-4388-ba9d-60b072ed38f7.png"

    if actualite != None:
        image = "https://lagalerieimmobiliere.com/wp-content/uploads/2023/11/DenisleBro_interior_house_design_paris_photography_realistic_421902c2-96bb-4a98-8306-73c242ad582b.png"
        if actualite == 'estimation':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Estimation</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Dans le cadre de votre projet, La Galerie Immobiliere vous propose d’estimer votre bien dans les meilleurs délais et en toute confidentialité.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/estimation" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Estimer mon bien" /></form></div></div>'
        elif actualite == 'contact':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Contact</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Dans le cadre de votre projet, La Galerie Immobiliere vous propose d’estimer votre bien dans les meilleurs délais et en toute confidentialité.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/contact" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Contactez-nous" /></form></div></div>'
        elif actualite == 'vente':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Vente</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Nous découvrons votre bien et évaluons avec vous ses particularités et ses forces. Nos estimations sont basées sur notre connaissance du marché.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/vente" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Mettre en vente" /></form></div></div>'
        elif actualite == 'achat':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Achat</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Dans le cadre de votre projet, La Galerie Immobiliere vous propose d’estimer votre bien dans les meilleurs délais et en toute confidentialité.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/achat" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Procéder à un achat" /></form></div></div>'
        elif actualite == 'nos biens':
            redirection_actualite = '<div class="elementor-widget-container" style="text-align:center; margin-top: 6vw;"><h2 class="elementor-heading-title elementor-size-default">Nos biens</h2><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div><div class="elementor-element elementor-element-da6b7b3 elementor-widget elementor-widget-text-editor" data-id="da6b7b3" data-element_type="widget" data-widget_type="text-editor.default" style="margin-top:3vw; margin-bottom: 3vw;"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */.elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}</style><p>Plus qu’un projet immobilier, une aventure humaine. Parce que derrière l’achat ou la vente d’un bien il y a une histoire et souvent un projet de vie, nous vous accompagnons avec soin et disponibilité à toutes les étapes de sa réalisation.</p></div></div><form style="width: 100%; text-align: center; border-bottom: 2px solid var( --e-global-color-ab8d2e8 ); border-radius: 2px; padding-bottom:6vw;" action="/nos-biens" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Voir nos biens" /></form></div></div>'

    data = {
        "title": titre,
        "content": '<div data-elementor-type="wp-page" data-elementor-id="7654" class="elementor elementor-7654"><section style="background-image: url('+image+'); background-position: center center; background-repeat: no-repeat; background-size: cover; transition: background 0.3s, border 0.3s, border-radius 0.3s, box-shadow 0.3s; padding: 200px 0px 0px 0px;" class="elementor-section elementor-top-section elementor-element elementor-element-b3789dc elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="b3789dc" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;}"><div class="elementor-background-overlay"></div><div class="elementor-container elementor-column-gap-no" style="max-width: 800px;"><div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-3161935" data-id="3161935" data-element_type="column"><div class="elementor-widget-wrap elementor-element-populated" style="position: relative; width: 100%; flex-wrap: wrap; align-content: flex-start;"><section class="elementor-section elementor-inner-section elementor-element elementor-element-6ae34ee elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="6ae34ee" data-element_type="section" data-settings="{&quot;background_background&quot;:&quot;video&quot;}"><div class="elementor-container elementor-column-gap-no"><div class="elementor-column elementor-col-100 elementor-inner-column elementor-element elementor-element-cdce999" data-id="cdce999" data-element_type="column"><div class="elementor-widget-wrap elementor-element-populated" style="margin: 0% 0% 0% 0%; --e-column-margin-right: 0%; --e-column-margin-left: 0%; padding: 0300px 0px 100px 0px; text-align:center;"><div class="elementor-element elementor-element-a1c3ca2 elementor-widget elementor-widget-heading" data-id="a1c3ca2" data-element_type="widget" data-widget_type="heading.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */ .elementor-heading-title{padding:0;margin:0;line-height:1}.elementor-widget-heading .elementor-heading-title[class*=elementor-size-]>a{color:inherit;font-size:inherit;line-height:inherit}.elementor-widget-heading .elementor-heading-title.elementor-size-small{font-size:15px}.elementor-widget-heading .elementor-heading-title.elementor-size-medium{font-size:19px}.elementor-widget-heading .elementor-heading-title.elementor-size-large{font-size:29px}.elementor-widget-heading .elementor-heading-title.elementor-size-xl{font-size:39px}.elementor-widget-heading .elementor-heading-title.elementor-size-xxl{font-size:59px}</style><h1 style="color: #FFFFFF;" class="elementor-heading-title elementor-size-default">' + titre + '</h1></div></div><div class="elementor-element elementor-element-4285ac2 elementor-widget elementor-widget-spacer" data-id="4285ac2" data-element_type="widget" data-widget_type="spacer.default"><div class="elementor-widget-container"><style>/*! elementor - v3.16.0 - 09-10-2023 */ .elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}</style><div class="elementor-spacer"><div class="elementor-spacer-inner"></div></div></div></div></div></div></div></section></div></div></div></section><section class="elementor-section elementor-top-section elementor-element elementor-element-69836e3 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="69836e3" data-element_type="section"><div style="display: flex; margin-right: auto; margin-left: auto; position: relative; max-width: 800px;" class="elementor-container elementor-column-gap-default"><div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-ce96eee" data-id="ce96eee" data-element_type="column"><div class="elementor-widget-wrap elementor-element-populated"><div class="elementor-element elementor-element-8d76fc4 elementor-widget elementor-widget-text-editor" data-id="8d76fc4" data-element_type="widget" data-widget_type="text-editor.default"><div style="margin: 100px 0px 100px 0px; padding: 0px 40px 0px 40px;" class="elementor-widget-container">'+ redirection_actualite +'<p>' + contenu + '</p></div><form style="width: 100%; text-align: center;" action="/contact" method="get"><input style="margin-left: auto; margin-right: auto;" type="submit" value="Contactez-nous" /></form></div></div></div></div></div></div></section></div>',
    }

    # Convertir les données en format JSON
    json_data = json.dumps(data)

    # Préparer les en-têtes de la requête
    headers = {
        'Authorization': f'Basic {encoded_credentials}',
        'Content-Type': 'application/json'
    }

    # Effectuer la requête GET
    connection.request('POST', '/wp-json/wp/v2/pages/'+id_page, json_data, headers)

    response = connection.getresponse()

    if response.status == 201:
        # La requête a réussi
        data = response.read()
        return data
    else:
        # La requête a échoué
        print(f"Erreur - Code de statut : {response.status}")
        print(response.read().decode('utf-8'))

    connection.close()

def delete_page(id_page : str):
    # Créer la connexion
    connection = http.client.HTTPSConnection(url)

    # Préparer les en-têtes de la requête
    headers = {
        'Authorization': f'Basic {encoded_credentials}',
        'Content-Type': 'application/json'
    }

    # Effectuer la requête GET
    connection.request('DELETE', '/wp-json/wp/v2/pages/'+id_page,'', headers)

    response = connection.getresponse()

    if response.status == 201:
        # La requête a réussi
        data = response.read()
        return data
    else:
        # La requête a échoué
        print(f"Erreur - Code de statut : {response.status}")
        print(response.read().decode('utf-8'))

    connection.close()
